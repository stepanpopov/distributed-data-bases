# ===========================================
# КОНФИГУРАЦИЯ PG_HBA.CONF ДЛЯ РЕПЛИКАЦИИ
# ===========================================
# Добавить в файл pg_hba.conf каждого узла

# Разрешение подключений для пользователя репликации от других узлов
# Центральный узел (замените на реальные IP адреса филиалов)
host    hotel_management    repuser    192.168.1.100/32    scram-sha-256    # Филиал 1
host    hotel_management    repuser    192.168.1.101/32    scram-sha-256    # Филиал 2
host    hotel_management    repuser    192.168.1.102/32    scram-sha-256    # Филиал 3

# Разрешение репликационных подключений
host    replication         repuser    192.168.1.100/32    scram-sha-256    # Филиал 1
host    replication         repuser    192.168.1.101/32    scram-sha-256    # Филиал 2  
host    replication         repuser    192.168.1.102/32    scram-sha-256    # Филиал 3

# Для центрального узла (замените на реальный IP центра)
host    hotel_management    repuser    192.168.1.10/32     scram-sha-256    # Центр
host    replication         repuser    192.168.1.10/32     scram-sha-256    # Центр

# ===========================================
# НАСТРОЙКА POSTGRESQL.CONF
# ===========================================
# Добавить/изменить в postgresql.conf каждого узла:

# wal_level = logical
# max_wal_senders = 10
# max_replication_slots = 10
# max_logical_replication_workers = 10
# max_worker_processes = 16